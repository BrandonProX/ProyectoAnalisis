<!DOCTYPE html>
<html lang="es">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Boleta de pago</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
     <link rel="icon" href="Logo_colegiojireh.png">
</head>
<body class="p-5">
     <div class="text-end">
          <a href="./Dashboard_Administrador.html" class="btn btn-primary d-print-none">Regresar</a>
          <button class="btn btn-dark d-print-none" onclick="window.print()">Imprimir</button>
     </div>

     <div class="mt-3 border border-3 w-100" style="min-height: 200px;">

          <div class="text-center">
               <div class="h4 fw-bold m-0">Colegio Jireh</div>
               <div class="h5 m-0">Zona 1, Guatemala</div>
               <div class="h5 m-0">NIT: 222222-2</div>
          </div>

          <div class="w-100 bg-secondary-subtle text-center p-1 mt-2">
               <div class="h3 fw-bold m-0">BOLETA DE PAGO</div>
          </div>

          <div class="w-100 bg-secondary-subtle text-center p-1 mt-2">
               <div class="h3 fw-bold m-0">Documento No: <span class="text-danger" id="documentId"></span></div>
          </div>

          <div class="p-3">
               <div class="row g-0">
                    <div class="col-6 fw-bold text-end pe-2"> ID del Alumno: </div>
                    <div class="col-6" id="id_alumno"></div>
               </div>

               <div class="row g-0">
                    <div class="col-6 fw-bold text-end pe-2"> Tipo de Pago: </div>
                    <div class="col-6" id="tipo_pago"></div>
               </div>

               <div class="row g-0">
                    <div class="col-6 fw-bold text-end pe-2"> Mes de Pago: </div>
                    <div class="col-6" id="mes_pago"></div>
               </div>

               <div class="row g-0">
                    <div class="col-6 fw-bold text-end pe-2"> Año de Pago: </div>
                    <div class="col-6" id="anio_pago"></div>
               </div>

               <div class="row g-0">
                    <div class="col-6 fw-bold text-end pe-2"> Monto: </div>
                    <div class="col-6" id="monto"></div>
               </div>
          </div>

          <div class="mt-2 text-center">
               <div class="small">Autorización número <span class="fw-bold" id="autorizacion_numero"></span></div>
               <div class="small">Fecha de emisión <span class="fw-bold" id="fecha_emision"></span> </div>
               <div class="small">Impreso por <span class="fw-bold">Sistema</span></div>
          </div>
     </div>


     <script>

          /**
           * Función para setear en el DOM un valor al elemento con el ID enviado
           */
          function setValueById(id, value){
               const element = document.getElementById(id);
               if(element){
                    element.innerHTML = value;
               }
          }

          function getNow(){
               const date = new Date();
               return `${date.getDate()}/${(date.getMonth()+1)}/${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;
          }

          function getRandomNumer(){
               return Math.floor(Math.random() * 100000) + 10000;
          }

          document.addEventListener('DOMContentLoaded', function() {
               const queryParams = new URLSearchParams(window.location.search);
               const inputs = [
                    "id_alumno",
                    "tipo_pago",
                    "mes_pago",
                    "anio_pago",
                    "monto",
               ];

               for(let input of inputs){
                    if(queryParams.has(input)){
                         setValueById(input, queryParams.get(input));
                    }
               }

               setValueById('documentId', getRandomNumer());
               setValueById('autorizacion_numero', getRandomNumer());
               setValueById('fecha_emision', getNow());
          });
     </script>
</body>
</html>